# HW6

PB20111689 蓝俊玮

## 7.1

1. 对数字图像进行直方图均衡化所得到的结果中个灰度值的出现概率并不相等，所以依然存在编码冗余，所以均衡化再用变长编码法得到的数据压缩效率一般不高。
2. 这样的图像中可能包含像素间冗余，直方图是一维的，进行直方图均衡化后的图像在结构或几何关系上可能仍具有像素之间的相关性。

## 7.2

1. 熵为：
   $$
   H(s)=-\sum_{k=1}^{7}p(S_k)\log_2{p(S_k)}=2.65
   $$

2. 通过计算可以得到哈夫曼码（概率小的在左边）：

   $s_0$ 为 $10$，$s_1$ 为 $00$，$s_2$ 为 $11$，$s_3$ 为 $010$，$s_4$ 为 $0110$，$s_5$ 为 $01111$，$s_6$ 为 $011101$，$s_7$ 为 $011100$。这样构造的码和表中第 2 种码的平均码长是一样的。区别只是每个信源的编码不一样。

3. 构造的 $B_1$ 码为：

   | 信源符号 | 概率 | $B_1$ 码 |
   | :------: | :--: | :------: |
   |  $s_1$   | 0.25 |    C0    |
   |  $s_2$   | 0.21 |    C1    |
   |  $s_0$   | 0.19 |   C0C0   |
   |  $s_3$   | 0.16 |   C0C1   |
   |  $s_4$   | 0.08 |   C1C0   |
   |  $s_5$   | 0.06 |   C1C1   |
   |  $s_6$   | 0.03 |  C0C0C0  |
   |  $s_7$   | 0.02 |  C0C0C1  |

4. 构造的 2bit 二元平移码为：

   | 信源符号 | 概率 | 2bit 二元平移码 |
   | :------: | :--: | :-------------: |
   |  $s_1$   | 0.25 |       00        |
   |  $s_2$   | 0.21 |       01        |
   |  $s_0$   | 0.19 |       10        |
   |  $s_3$   | 0.16 |      11 00      |
   |  $s_4$   | 0.08 |      11 01      |
   |  $s_5$   | 0.06 |      11 10      |
   |  $s_6$   | 0.03 |    11 11 00     |
   |  $s_7$   | 0.02 |    11 11 01     |

5. 构造的哈夫曼平移码为：

   | 信源符号 | 概率 | 哈夫曼平移码 |
   | :------: | :--: | :----------: |
   |  $s_1$   | 0.25 |      10      |
   |  $s_2$   | 0.21 |      01      |
   |  $s_0$   | 0.19 |      00      |
   |  $s_3$   | 0.16 |     111      |
   |  $s_4$   | 0.08 |    110 10    |
   |  $s_5$   | 0.06 |    110 01    |
   |  $s_6$   | 0.03 |    110 00    |
   |  $s_7$   | 0.02 |   110 111    |

6. 哈夫曼编码的平均字长：2.7

   $B_1$ 码的平均字长：3.18

   2bit 二元平移码：2.8

   哈夫曼平移码：2.75

   这些平均字长都比熵大，其中哈夫曼编码的平均字长是最小的，$B_1$ 码的平均字长是最大的。

## 7.3

0.23355 在 0.2 和 0.3 之间，所以第一个是 e，此时的

| 解码 | 区间起点  | 区间终点  |
| :--: | :-------: | :-------: |
|  e   |    0.2    |    0.5    |
|  a   |    0.2    |   0.26    |
|  i   |   0.23    |   0.236   |
|  i   |   0.233   |  0.2336   |
|  x   |  0.23354  |  0.2336   |
|  a   |  0.23354  | 0.233552  |
|  u   | 0.2335496 | 0.2335508 |

所以解码为 e a i i x a u.

## 7.4

bit0 的二值图

|      |      |      |      |      |      |      |      |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  1   |  0   |  0   |  0   |  0   |  0   |  0   |  0   |
|  1   |  0   |  0   |  1   |  0   |  0   |  0   |  0   |
|  1   |  0   |  0   |  1   |  0   |  1   |  0   |  1   |
|  0   |  0   |  0   |  0   |  0   |  0   |  0   |  0   |

游程编码：1b 7w，1b 2w 1b 4w，1b 2w 1b 1w 1b 1w 1b，8w

bit1 的二值图

|      |      |      |      |      |      |      |      |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  0   |  0   |  0   |  0   |  0   |  0   |  0   |  0   |
|  0   |  0   |  0   |  1   |  0   |  0   |  0   |  0   |
|  0   |  1   |  0   |  1   |  1   |  0   |  0   |  1   |
|  1   |  1   |  1   |  1   |  1   |  1   |  0   |  0   |

游程编码：8w，3w 1b 4w，1w 1b 1w 2b 2w 1b，6b 2w

bit2 的二值图

|      |      |      |      |      |      |      |      |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  0   |  0   |  0   |  0   |  1   |  1   |  0   |  0   |
|  0   |  0   |  0   |  1   |  1   |  1   |  0   |  0   |
|  0   |  0   |  0   |  1   |  1   |  1   |  1   |  0   |
|  0   |  0   |  0   |  0   |  1   |  1   |  0   |  0   |

游程编码：4w 2b 2w，3w 3b 2w，3w 4b 1w，4w 2b 2w

计数值最大值为 8，则需要使用 3 bit 来表示。游程编码所需的 bit 数为 114 bit

图像的信息熵为：
$$
H(d)=-\sum_{i=1}^{7}p(d_i)\log_2{p(d_i)}\times 32=2.57\times 32=82.24
$$
则编码效率为：$82.24/114=72.14\%$.

